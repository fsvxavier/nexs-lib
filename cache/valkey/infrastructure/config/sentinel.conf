# Valkey Sentinel Configuration
# Port for sentinel
port 26379

# Sentinel configuration
sentinel monitor mymaster valkey-sentinel-master 6379 2
sentinel auth-pass mymaster sentinelpass123
sentinel down-after-milliseconds mymaster 5000
sentinel parallel-syncs mymaster 1
sentinel failover-timeout mymaster 10000

# Sentinel notifications
sentinel notification-script mymaster /etc/valkey/scripts/notify.sh
sentinel client-reconfig-script mymaster /etc/valkey/scripts/reconfig.sh

# Logging
loglevel notice
logfile ""

# Networking
bind 0.0.0.0
protected-mode no

# Sentinel deny scripts reconfig
sentinel deny-scripts-reconfig yes

# Announce settings for Docker networking
sentinel announce-ip 127.0.0.1
sentinel announce-port 26379
